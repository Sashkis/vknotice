angular.module("OptionsApp",["HeaderApp","gettext","angular-google-analytics"]).config(["$provide","AnalyticsProvider",function(t,e){t.decorator("$exceptionHandler",["$delegate","$log",function(t,e){return function(n,a){e.warn(n,a),t(n,a)}}]),e.setAccount({tracker:"UA-71609511-3",trackEvent:!0,fields:{cookieName:"vknotice-analitics",cookieDomain:"none"},set:{forceSSL:!0}}).setHybridMobileSupport(!0)}]).run(["gettextCatalog","storage","$log","Analytics",function(t,e,n,a){function o(t){switch(t){case 0:case 97:case 100:case 777:return"ru";case 1:return"uk";case 2:case 114:return"be";case 6:return"de";case 15:return"pl";case 54:case 66:return"ro";case 61:return"nl";default:return"en"}}t.debug=!0,e.ready.then(function(e){a.set("&uid",e.user_id),a.trackPage("/Options","Настройки");var r=o(e.lang);"ru"!==r&&(n.info('Current Language set as "'+r+'"'),t.setCurrentLanguage(r))})}]),angular.module("OptionsApp").controller("OptionsCtrl",["storage","Analytics","$scope",function(t,e,n){var a=this;a.stg={options:{}},a.options={},t.ready.then(function(t){a.stg=t,a.options=angular.copy(t.options)}),a.saveOptions=function(){e.trackEvent("Activity","SaveOptions"),t.set({options:a.options},function(){return n.$apply()})},a.clearData=function(){e.trackEvent("Activity","ClearData")},a.isOptionSaved=function(){return angular.equals(a.options,a.stg.options)}}]);