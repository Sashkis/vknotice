var OptionsApp;!function(t){var n=function(){function t(t,n,e,i){var o=this;this.storage=t,this.$scope=n,this.Analytics=e,this.gettextCatalog=i,this.stg={},t.ready.then(function(t){o.stg=t,o.options=angular.copy(t.options)}),VK.Widgets.Group("vk_groups",{redesign:1,mode:2,height:document.getElementById("vk_groups").offsetHeight,width:"auto"},90041499)}return t.prototype.saveOptions=function(){var t=this;console.log(this),this.Analytics.trackEvent("Activity","SaveOptions"),this.storage.set({options:this.options},!0,function(){return t.$scope.$apply()})},t.prototype.isOptionNotSaved=function(){return!angular.equals(this.options,this.stg.options)},t.prototype.clearData=function(){confirm(this.gettextCatalog.getString("Данное действие удалит весь кэш и сбросит настройки.\nВы уверены, что хотите сделать это?"))&&(this.Analytics.trackEvent("Activity","ClearData"),this.storage.clear(function(){return chrome.runtime.reload()}))},t.$inject=["storage","$scope","Analytics","gettextCatalog"],t}();t.OptionsCtrl=n}(OptionsApp||(OptionsApp={}));var OptionsApp;!function(t){angular.module("OptionsApp",["HeaderApp","gettext","angular-google-analytics"]).config(Helpers.setAnaliticSetting).run(Helpers.setCurrentLanguage).run(Helpers.trackPage).controller("OptionsCtrl",t.OptionsCtrl).directive("checkboxOption",function(){return{template:'<input ng-model="param" type="checkbox"/>\n\t\t\t\t\t\t\t<span class="fa-stack">\n\t\t\t\t\t\t\t\t<i class="fa fa-square fa-stack-2x"></i>\n\t\t\t\t\t\t\t\t<i ng-if="param" class="fa fa-check fa-stack-1x fa-inverse"></i>\n\t\t\t\t\t\t\t</span>',scope:{param:"=?"}}}).filter("kFilter",function(){return function(t,n){var e=["K","M","G","T","P","E"];if(isNaN(t))return null;if(t<1e3)return t;var i=Math.floor(Math.log(t)/Math.log(1e3));return(t/Math.pow(1e3,i)).toFixed(n)+e[i-1]}})}(OptionsApp||(OptionsApp={}));