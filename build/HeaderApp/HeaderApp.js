var HeaderApp;!function(e){var t=function(){function e(e,t,r){var o=this;this.storage=e,this.Analytics=t,this.$state=r,this.shareUrl=Helpers.getShareUrl(),this.reviewUrl=Helpers.getReviewUrl(),e.ready.then(function(t){o.stg=t,o.current_user=e.getProfile(t.user_id)})}return e.prototype.logout=function(e){var t=this;e.preventDefault(),this.storage.set({user_id:0,access_token:""},!0,function(){t.Analytics.trackEvent("OAuth","logout"),chrome.browserAction.setBadgeText({text:""})})},e.prototype.trackActivity=function(e){this.Analytics.trackEvent("Activity",e,"dropdown-menu")},e.prototype.isHome=function(){var e=this.$state.is("home");return void 0===e||e},e.prototype.openOptionsPage=function(){chrome.runtime.openOptionsPage()},e.prototype.back=function(){window.history.back()},e.$inject=["storage","Analytics","$state"],e}();e.HeaderCtrl=t}(HeaderApp||(HeaderApp={}));var HeaderApp;!function(e){angular.module("HeaderApp",["StorageApp","angular-google-analytics","ui.router"]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|mailto|chrome-extension):/)}]).controller("HeaderCtrl",e.HeaderCtrl).directive("vkHeader",function(){return{templateUrl:"/HeaderApp/Header.tpl",restrict:"E",scope:!1,replace:!0}})}(HeaderApp||(HeaderApp={}));