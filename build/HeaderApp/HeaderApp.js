var HeaderApp;!function(e){var t=function(){function e(e,t,r,i){var o=this;this.storage=e,this.Analytics=t,this.optionUrl=chrome.extension.getURL("OptionsApp/index.html"),this.shareUrl="https://vk.com/share.php?"+r({url:"http://vk.com/note45421694_12011424",title:i.getString("Информер Вконтакте"),description:i.getString("Отображает количество непрочитанных сообщений и позволяет ответить не заходя в ВК!"),image:"https://pp.vk.me/c628716/v628716694/2c20c/f3gq0pcaqHI.jpg",noparse:"true"}),this.reviewUrl=/(opera|opr|Yandex|YaBrowser)/i.test(navigator.userAgent)?"https://addons.opera.com/extensions/details/app_id/ephejldckfopeihjfhfajiflkjkjbnin#feedback-container":"https://chrome.google.com/webstore/detail/jlokilojbcmfijbgbioojlnhejhnikhn/reviews",e.ready.then(function(t){o.stg=t,o.current_user=e.getProfile(t.user_id)})}return e.prototype.logout=function(e){e.preventDefault(),this.storage.set({user_id:0,access_token:""})},e.prototype.trackActivity=function(e){this.Analytics.trackEvent("Activity",e,"dropdown-menu")},e.$inject=["storage","Analytics","$httpParamSerializer","gettextCatalog"],e}();e.HeaderCtrl=t}(HeaderApp||(HeaderApp={}));var HeaderApp;!function(e){angular.module("HeaderApp",["StorageApp","gettext","angular-google-analytics"]).config(["$compileProvider",function(e){e.aHrefSanitizationWhitelist(/^\s*(https?|mailto|chrome-extension):/)}]).controller("HeaderCtrl",e.HeaderCtrl).directive("vkHeader",function(){return{templateUrl:"/HeaderApp/Header.tpl",restrict:"E",scope:!1,replace:!0}})}(HeaderApp||(HeaderApp={}));